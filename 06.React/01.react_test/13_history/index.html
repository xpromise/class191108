<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>history test</title>
  </head>
  <body>
    <p><input type="text" /></p>
    <a href="/test4">测试正常a标签</a>
    <a href="/test1" onclick="return push('/test1')">test1</a><br /><br />
    <button onClick="push('/test2')">push test2</button><br /><br />
    <button onClick="back()">回退</button><br /><br />
    <button onClick="forword()">前进</button><br /><br />
    <button onClick="replace('/test3')">replace test3</button><br /><br />

    <script
      type="text/javascript"
      src="https://cdn.bootcss.com/history/4.7.2/history.js"
    ></script>
    <script type="text/javascript">
      let history = History.createBrowserHistory(); // 方式一
      // history = History.createHashHistory() // 方式二 带#
      // console.log(history)

      function push(to) {
        history.push(to);
        return false; // 禁止了a标签的默认行为
      }

      function back() {
        history.goBack();
      }

      function forword() {
        history.goForward();
      }

      function replace(to) {
        history.replace(to);
      }

      history.listen(location => {
        // 更具location.path加载相应的组件
        console.log("请求路由路径变化了", location);
      });
    </script>
  </body>
</html>
